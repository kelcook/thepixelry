/*! the-pixelry 09-09-2016 */
function onScroll(a){var b=$(document).scrollTop();$(".js-menu-link").each(function(){var a=$(this),c=$(a.attr("href")),d=$(".header").outerHeight();c.position().top<=b+d&&c.position().top+c.height()>b?($(".js-nav-link").removeClass("is-active"),a.addClass("is-active")):a.removeClass("is-active")})}function showSpinner(){$(".js-form-overlay").show()}function hideSpinner(){$(".js-form-overlay").hide()}function showThanks(){$(".js-contact-form-container").html('<h3 class="h3--thank-you">Thanks! We\'ll be in touch shortly.</h3>')}function positionCta(){var a=$(".js-signup-cta").outerHeight(),b=$("#js-section-intro").outerHeight();$(".js-signup-cta").css("position","absolute"),$(".js-signup-cta").css("top",b-a)}function drawGrid(){var a=document.getElementById("js-section-intro").offsetWidth,b=document.getElementById("js-section-intro").offsetHeight,c=a,d=b,e=$('<canvas class="js-canvas" />').attr({width:c,height:d}).appendTo(".js-pixel-overlay"),f=e.get(0).getContext("2d"),g=0,h="";for(Modernizr.mq("screen and (min-width: 70em)")?h=100:Modernizr.mq("screen and (min-width: 64em)")?h=100:Modernizr.mq("screen and (min-width: 48em)")?h=100:Modernizr.mq("screen and (min-width: 37.5em)")?h=100:Modernizr.mq("screen and (max-width: 37.5em)")&&(h=50);b>=g;){for(var i=0;a>=i;i+=h)f.fillStyle=colorPicker(),f.moveTo(i,0),f.fillRect(i,g,h,h);g+=h}}function colorPicker(){var a=Array("rgba(0, 0, 0, 0.3)","rgba(0, 0, 0, 0.2)","rgba(0, 0, 0, 0.1)"),b=a[Math.floor(Math.random()*a.length)];return b}!function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),$(function(){window.location.pathname.split("/");if(0!==$("#js-section-intro").length){$(window).on("resize",function(){$(".js-canvas").remove(),drawGrid(),positionCta()}).trigger("resize");var a=$(".js-signup-cta").outerHeight(),b=$("#js-section-intro").outerHeight();$(".js-signup-cta").css("position","absolute"),$(".js-signup-cta").css("top",b-a),$(document).on("scroll",onScroll)}$(".js-menu-open").on("click",function(a){a.preventDefault(),$(".js-menu-open").removeClass("is-active"),$(".js-menu-close").addClass("is-active"),$(".js-nav").addClass("is-active")}),$(".js-menu-close").on("click",function(a){a.preventDefault(),$(".js-menu-close").removeClass("is-active"),$(".js-menu-open").addClass("is-active"),$(".js-nav").removeClass("is-active")}),$('a[href^="#"]').on("click",function(a){a.preventDefault(),$(document).off("scroll"),$(".js-nav").hasClass("is-active")&&($(".js-menu-close").removeClass("is-active"),$(".js-menu-open").addClass("is-active"),$(".js-nav").removeClass("is-active")),$("a").each(function(){$(this).removeClass("is-active")}),$(this).addClass("is-active");var b=$(".header").outerHeight(),c=$(this).attr("href"),d=$(c).offset().top-b;$("html, body").stop().animate({scrollTop:d},500,"swing",function(){$(document).on("scroll",onScroll)})}),$(".js-provide-laptop").on("change",function(){1==$(this).attr("value")?$(".js-power-cord").removeClass("is-hidden"):$(".js-power-cord").hasClass("is-hidden")||$(".js-power-cord").addClass("is-hidden")}),$(".js-food-allergy").on("change",function(){1==$(this).attr("value")?$(".js-food-allergy-explain").removeClass("form__group--hidden"):$(".js-food-allergy-explain").hasClass("form__group--hidden")||$(".js-food-allergy-explain").addClass("form__group--hidden")}),$(".js-contact-form").on("submit",function(a){a.preventDefault();var b=$(this).serialize();showSpinner(),$.ajax({url:"/contact",method:"post",data:b,dataType:"json",success:function(a){"TRUE"!==a?(hideSpinner(),void 0!==a.name?$(".js-contact-error-name").addClass("is-active"):$(".js-contact-error-name").removeClass("is-active"),void 0!==a.email?$(".js-contact-error-email").addClass("is-active"):$(".js-contact-error-email").removeClass("is-active"),void 0!==a.message?$(".js-contact-error-message").addClass("is-active"):$(".js-contact-error-message").removeClass("is-active"),void 0!==a.recaptcha?$(".js-contact-error-recaptcha").addClass("is-active"):$(".js-contact-error-recaptcha").removeClass("is-active"),$("html, body").animate({scrollTop:$(".js-contact-form").offset().top-$(".js-header").outerHeight()},200)):(showThanks(),hideSpinner())}})})});